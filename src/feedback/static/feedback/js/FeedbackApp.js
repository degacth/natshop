// Generated by CoffeeScript 1.9.2
(function() {
  angular.module("FeedbackApp", ['ngResource', 'vcRecaptcha']).controller("FeedbackFormController", function($scope, Feedback) {
    return angular.extend($scope, {
      feedback: {
        username: 'Alexander',
        phone: '9113322',
        email: 'degacth@yandex.ru',
        message: 'lorem ip sum'
      },
      messages: {},
      submit: function() {
        return (new Feedback(this.feedback)).$save().then(function() {
          return $scope.feedback.submitted = true;
        });
      },
      captcha_success: function(res) {
        return $scope.feedback.captcha = res;
      }
    });
  }).factory('Feedback', function($resource) {
    return $resource(window.ng_config.api + "/feedback/:id", {
      id: "@id"
    }, {}, {
      stripTrailingSlashes: false
    });
  });

}).call(this);
